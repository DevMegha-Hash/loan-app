{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Arnab Sardar\\\\Desktop\\\\loan-management\\\\frontend\\\\src\\\\components\\\\Profile\\\\userdashbord.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserDashboard = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [loans, setLoans] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchUserData = async () => {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        alert(\"Please log in first\");\n        navigate(\"/login\");\n        return;\n      }\n      try {\n        // Fetch user details\n        const userRes = await axios.get(\"http://localhost:5000/api/auth/user\", {\n          headers: {\n            Authorization: token\n          }\n        });\n        setUser(userRes.data);\n\n        // Fetch user loans\n        const loanRes = await axios.get(\"http://localhost:5000/api/loans/user\", {\n          headers: {\n            Authorization: token\n          }\n        });\n        setLoans(loanRes.data);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n        alert(\"Failed to load dashboard\");\n      }\n    };\n    fetchUserData();\n  }, [navigate]);\n  const handleApplyLoan = async () => {\n    const amount = prompt(\"Enter loan amount:\");\n    if (!amount) return;\n    try {\n      const token = localStorage.getItem(\"token\");\n      await axios.post(\"http://localhost:5000/api/loans\", {\n        amount\n      }, {\n        headers: {\n          Authorization: token\n        }\n      });\n      alert(\"Loan request submitted!\");\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Loan application failed:\", error);\n      alert(\"Failed to apply for loan\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Welcome, \", user ? user.name : \"User\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleApplyLoan,\n      children: \"Apply for Loan\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Your Loans\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: loans.length > 0 ? loans.map(loan => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"Amount: $\", loan.amount, \" | Status: \", loan.status, \" | Repayment Date: \", new Date(loan.repaymentDate).toDateString()]\n      }, loan._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No loans found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(UserDashboard, \"qO7hdpGNhEzOCE+yvGFjSgEkdyA=\", false, function () {\n  return [useNavigate];\n});\n_c = UserDashboard;\nexport default UserDashboard;\nvar _c;\n$RefreshReg$(_c, \"UserDashboard\");","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","jsxDEV","_jsxDEV","UserDashboard","_s","user","setUser","loans","setLoans","navigate","fetchUserData","token","localStorage","getItem","alert","userRes","get","headers","Authorization","data","loanRes","error","console","handleApplyLoan","amount","prompt","post","window","location","reload","children","name","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","map","loan","status","Date","repaymentDate","toDateString","_id","_c","$RefreshReg$"],"sources":["C:/Users/Arnab Sardar/Desktop/loan-management/frontend/src/components/Profile/userdashbord.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst UserDashboard = () => {\r\n  const [user, setUser] = useState(null);\r\n  const [loans, setLoans] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) {\r\n        alert(\"Please log in first\");\r\n        navigate(\"/login\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // Fetch user details\r\n        const userRes = await axios.get(\"http://localhost:5000/api/auth/user\", {\r\n          headers: { Authorization: token },\r\n        });\r\n        setUser(userRes.data);\r\n\r\n        // Fetch user loans\r\n        const loanRes = await axios.get(\"http://localhost:5000/api/loans/user\", {\r\n          headers: { Authorization: token },\r\n        });\r\n        setLoans(loanRes.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n        alert(\"Failed to load dashboard\");\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n  }, [navigate]);\r\n\r\n  const handleApplyLoan = async () => {\r\n    const amount = prompt(\"Enter loan amount:\");\r\n    if (!amount) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      await axios.post(\r\n        \"http://localhost:5000/api/loans\",\r\n        { amount },\r\n        { headers: { Authorization: token } }\r\n      );\r\n      alert(\"Loan request submitted!\");\r\n      window.location.reload();\r\n    } catch (error) {\r\n      console.error(\"Loan application failed:\", error);\r\n      alert(\"Failed to apply for loan\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Welcome, {user ? user.name : \"User\"}</h2>\r\n      <button onClick={handleApplyLoan}>Apply for Loan</button>\r\n\r\n      <h3>Your Loans</h3>\r\n      <ul>\r\n        {loans.length > 0 ? (\r\n          loans.map((loan) => (\r\n            <li key={loan._id}>\r\n            Amount: ${loan.amount} | Status: {loan.status} | Repayment Date: {new Date(loan.repaymentDate).toDateString()}\r\n          </li>\r\n          ))\r\n        ) : (\r\n          <p>No loans found</p>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}