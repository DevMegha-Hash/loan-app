{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import axios from \"axios\";\n// import { useNavigate } from \"react-router-dom\";\n\n// const UserDashboard = () => {\n//   const [user, setUser] = useState(null);\n//   const [loans, setLoans] = useState([]);\n//   const navigate = useNavigate();\n\n//   useEffect(() => {\n//     const fetchUserData = async () => {\n//       const token = localStorage.getItem(\"token\");\n//       if (!token) {\n//         alert(\"Please log in first\");\n//         navigate(\"/login\");\n//         return;\n//       }\n\n//       try {\n//         // Fetch user details\n//         const userRes = await axios.get(\"http://localhost:5000/api/auth/user\", {\n//           headers: { Authorization: token },\n//         });\n//         setUser(userRes.data);\n\n//         // Fetch user loans\n//         const loanRes = await axios.get(\"http://localhost:5000/api/loans/user\", {\n//           headers: { Authorization: token },\n//         });\n//         setLoans(loanRes.data);\n//       } catch (error) {\n//         console.error(\"Error fetching data:\", error);\n//         alert(\"Failed to load dashboard\");\n//       }\n//     };\n\n//     fetchUserData();\n//   }, [navigate]);\n\n//   const handleApplyLoan = async () => {\n//     const amount = prompt(\"Enter loan amount:\");\n//     if (!amount) return;\n\n//     try {\n//       const token = localStorage.getItem(\"token\");\n//       await axios.post(\n//         \"http://localhost:5000/api/loans/apply\",\n//         { amount },\n//         { headers: { Authorization: token } }\n//       );\n//       alert(\"Loan request submitted!\");\n//       window.location.reload();\n//     } catch (error) {\n//       console.error(\"Loan application failed:\", error);\n//       alert(\"Failed to apply for loan\");\n//     }\n//   };\n\n//   return (\n//     <div>\n//       <h2>Welcome, {user ? user.name : \"User\"}</h2>\n//       <button onClick={handleApplyLoan}>Apply for Loan</button>\n\n//       <h3>Your Loans</h3>\n//       <ul>\n//         {loans.length > 0 ? (\n//           loans.map((loan) => (\n//             <li key={loan._id}>\n//               Amount: ₹{loan.amount} | Status: {loan.status}\n//             </li>\n//           ))\n//         ) : (\n//           <p>No loans found</p>\n//         )}\n//       </ul>\n//     </div>\n//   );\n// };\n\n// export default UserDashboard;","map":{"version":3,"names":[],"sources":["C:/Users/Arnab Sardar/Desktop/loan-management/frontend/src/components/Profile/userdashbord.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import axios from \"axios\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n\r\n// const UserDashboard = () => {\r\n//   const [user, setUser] = useState(null);\r\n//   const [loans, setLoans] = useState([]);\r\n//   const navigate = useNavigate();\r\n\r\n//   useEffect(() => {\r\n//     const fetchUserData = async () => {\r\n//       const token = localStorage.getItem(\"token\");\r\n//       if (!token) {\r\n//         alert(\"Please log in first\");\r\n//         navigate(\"/login\");\r\n//         return;\r\n//       }\r\n\r\n//       try {\r\n//         // Fetch user details\r\n//         const userRes = await axios.get(\"http://localhost:5000/api/auth/user\", {\r\n//           headers: { Authorization: token },\r\n//         });\r\n//         setUser(userRes.data);\r\n\r\n//         // Fetch user loans\r\n//         const loanRes = await axios.get(\"http://localhost:5000/api/loans/user\", {\r\n//           headers: { Authorization: token },\r\n//         });\r\n//         setLoans(loanRes.data);\r\n//       } catch (error) {\r\n//         console.error(\"Error fetching data:\", error);\r\n//         alert(\"Failed to load dashboard\");\r\n//       }\r\n//     };\r\n\r\n//     fetchUserData();\r\n//   }, [navigate]);\r\n\r\n//   const handleApplyLoan = async () => {\r\n//     const amount = prompt(\"Enter loan amount:\");\r\n//     if (!amount) return;\r\n\r\n//     try {\r\n//       const token = localStorage.getItem(\"token\");\r\n//       await axios.post(\r\n//         \"http://localhost:5000/api/loans/apply\",\r\n//         { amount },\r\n//         { headers: { Authorization: token } }\r\n//       );\r\n//       alert(\"Loan request submitted!\");\r\n//       window.location.reload();\r\n//     } catch (error) {\r\n//       console.error(\"Loan application failed:\", error);\r\n//       alert(\"Failed to apply for loan\");\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <h2>Welcome, {user ? user.name : \"User\"}</h2>\r\n//       <button onClick={handleApplyLoan}>Apply for Loan</button>\r\n\r\n//       <h3>Your Loans</h3>\r\n//       <ul>\r\n//         {loans.length > 0 ? (\r\n//           loans.map((loan) => (\r\n//             <li key={loan._id}>\r\n//               Amount: ₹{loan.amount} | Status: {loan.status}\r\n//             </li>\r\n//           ))\r\n//         ) : (\r\n//           <p>No loans found</p>\r\n//         )}\r\n//       </ul>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default UserDashboard;\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}