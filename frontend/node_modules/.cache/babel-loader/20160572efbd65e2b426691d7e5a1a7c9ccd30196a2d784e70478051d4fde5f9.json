{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useNavigate, NavLink } from \"react-router-dom\";\nimport axios from \"axios\";\nimport styles from \"./Login.module.css\";\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  // const [phone, setPhone] = useState(\"\");\n  const [otp, setOtp] = useState(\"\");\n  const [otpSent, setOtpSent] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  //   // Send OTP to phone number\n  //   const sendOtp = async () => {\n  //     try {\n  //       await axios.post(\"http://localhost:5000/api/otp/send-otp\", { phone });\n  //       setOtpSent(true);\n  //       setMessage(\"OTP sent successfully!\");\n  //       setError(\"\");\n  //     } catch (error) {\n  //       setError(\"Failed to send OTP. Please check the phone number.\");\n  //     }\n  //   };\n\n  //   // Verify OTP and login\n  //   const verifyOtp = async () => {\n  //     try {\n  //       const { data } = await axios.post(\"http://localhost:5000/api/otp/verify-otp\", { phone, otp });\n\n  //       setMessage(\"Login successful!\");\n  //       navigate(data.role === \"admin\" ? \"/admin-dashboard\" : \"/user-dashboard\");\n  //     } catch (error) {\n  //       setError(\"Invalid OTP. Please try again.\");\n  //     }\n  //   };\n\n  //   // Email & Password Login\n  //   const handleLogin = async (e) => {\n  //     e.preventDefault();\n  //     try {\n  //       const { data } = await axios.post(\"http://localhost:5000/api/auth/login\", { email, password });\n\n  //       // Store user details in localStorage\n  //       localStorage.setItem(\"token\", data.token);\n  //       localStorage.setItem(\"role\", data.role);\n  //       localStorage.setItem(\"userName\", data.name);\n  //       localStorage.setItem(\"profilePic\", data.profilePic);\n\n  //       setMessage(\"Login successful!\");\n  //       navigate(data.role === \"admin\" ? \"/admin-dashboard\" : \"/user-dashboard\");\n  //     } catch (error) {\n  //       setError(\"Invalid email or password. Please try again.\");\n  //     }\n  //   };\n\n  //   return (\n  //     <div className={styles.loginContainer}>\n\n  //       {/* Email & Password Login Section */}\n  //       <form onSubmit={handleLogin}>\n  //       <h2>Login</h2>\n\n  // {/* OTP Login Section */}\n  // <div>\n  //   <input type=\"tel\" placeholder=\"Enter phone number\" value={phone} onChange={(e) => setPhone(e.target.value)} />\n  //   <button type=\"button\" onClick={sendOtp}>Send OTP</button>\n  // </div>\n\n  // {otpSent && (\n  //   <div>\n  //     <input type=\"text\" placeholder=\"Enter OTP\" value={otp} onChange={(e) => setOtp(e.target.value)} />\n  //     <button type=\"button\" onClick={verifyOtp}>Verify OTP</button>\n  //   </div>\n  // )}\n\n  //         <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n  //         <input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\n  //         <button type=\"submit\">Login</button>\n\n  //            {/* Display Messages */}\n  //       {message && <p className={styles.message}>{message}</p>}\n  //       {error && <p className={styles.error}>{error}</p>}\n\n  //       <p>\n  //         Don’t have an account? <NavLink to={\"/register\"}>Sign Up</NavLink>\n  //       </p>\n\n  //       </form>\n\n  //       </div>\n\n  //   );\n};\n_s(Login, \"Lp1s3qaKNb/Stq20thnYNDOz+0I=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useNavigate","NavLink","axios","styles","Login","_s","navigate","password","setPassword","email","setEmail","otp","setOtp","otpSent","setOtpSent","message","setMessage","error","setError","_c","$RefreshReg$"],"sources":["C:/Users/suvaj/OneDrive/Desktop/Financial_Loan_App/frontend/src/components/auth/Login.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate, NavLink } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport styles from \"./Login.module.css\";\r\n\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  // const [phone, setPhone] = useState(\"\");\r\n  const [otp, setOtp] = useState(\"\");\r\n  const [otpSent, setOtpSent] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n//   // Send OTP to phone number\r\n//   const sendOtp = async () => {\r\n//     try {\r\n//       await axios.post(\"http://localhost:5000/api/otp/send-otp\", { phone });\r\n//       setOtpSent(true);\r\n//       setMessage(\"OTP sent successfully!\");\r\n//       setError(\"\");\r\n//     } catch (error) {\r\n//       setError(\"Failed to send OTP. Please check the phone number.\");\r\n//     }\r\n//   };\r\n\r\n//   // Verify OTP and login\r\n//   const verifyOtp = async () => {\r\n//     try {\r\n//       const { data } = await axios.post(\"http://localhost:5000/api/otp/verify-otp\", { phone, otp });\r\n\r\n//       setMessage(\"Login successful!\");\r\n//       navigate(data.role === \"admin\" ? \"/admin-dashboard\" : \"/user-dashboard\");\r\n//     } catch (error) {\r\n//       setError(\"Invalid OTP. Please try again.\");\r\n//     }\r\n//   };\r\n\r\n//   // Email & Password Login\r\n//   const handleLogin = async (e) => {\r\n//     e.preventDefault();\r\n//     try {\r\n//       const { data } = await axios.post(\"http://localhost:5000/api/auth/login\", { email, password });\r\n\r\n//       // Store user details in localStorage\r\n//       localStorage.setItem(\"token\", data.token);\r\n//       localStorage.setItem(\"role\", data.role);\r\n//       localStorage.setItem(\"userName\", data.name);\r\n//       localStorage.setItem(\"profilePic\", data.profilePic);\r\n\r\n//       setMessage(\"Login successful!\");\r\n//       navigate(data.role === \"admin\" ? \"/admin-dashboard\" : \"/user-dashboard\");\r\n//     } catch (error) {\r\n//       setError(\"Invalid email or password. Please try again.\");\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className={styles.loginContainer}>\r\n\r\n//       {/* Email & Password Login Section */}\r\n//       <form onSubmit={handleLogin}>\r\n//       <h2>Login</h2>\r\n\r\n// {/* OTP Login Section */}\r\n// <div>\r\n//   <input type=\"tel\" placeholder=\"Enter phone number\" value={phone} onChange={(e) => setPhone(e.target.value)} />\r\n//   <button type=\"button\" onClick={sendOtp}>Send OTP</button>\r\n// </div>\r\n\r\n// {otpSent && (\r\n//   <div>\r\n//     <input type=\"text\" placeholder=\"Enter OTP\" value={otp} onChange={(e) => setOtp(e.target.value)} />\r\n//     <button type=\"button\" onClick={verifyOtp}>Verify OTP</button>\r\n//   </div>\r\n// )}\r\n\r\n//         <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\r\n//         <input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\r\n//         <button type=\"submit\">Login</button>\r\n\r\n//            {/* Display Messages */}\r\n//       {message && <p className={styles.message}>{message}</p>}\r\n//       {error && <p className={styles.error}>{error}</p>}\r\n\r\n//       <p>\r\n//         Don’t have an account? <NavLink to={\"/register\"}>Sign Up</NavLink>\r\n//       </p>\r\n\r\n//       </form>\r\n\r\n   \r\n//       </div>\r\n   \r\n//   );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,EAAEC,OAAO,QAAQ,kBAAkB;AACvD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,oBAAoB;AAEvC,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACtC;EACA,MAAM,CAACY,GAAG,EAAEC,MAAM,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACkB,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;;EAExC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;;EAGA;;EAEA;AACA,CAAC;AAACM,EAAA,CA3FID,KAAK;EAAA,QACQJ,WAAW;AAAA;AAAAmB,EAAA,GADxBf,KAAK;AA6FX,eAAeA,KAAK;AAAC,IAAAe,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}